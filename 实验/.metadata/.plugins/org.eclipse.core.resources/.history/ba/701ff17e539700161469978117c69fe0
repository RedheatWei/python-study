#!/usr/bin/env python
#_*_ coding:utf-8 _*_
'''
Created on 2016年10月21日
Email: weipeng@sinashow.com
@author: Redheat

'''
import os,urllib2,json,time,datetime

#room_id = 5232509

class LiveModelFunc(object):
    def __init__(self,room_id):
        self.room_id = room_id
        self.time_str = time.strftime("%Y%m%d%H%M", time.localtime())
    def openUrl(self,url_str):
        try:
            html_res = urllib2.urlopen(url_str)
        except Exception,e:
            time.sleep(3)
        else:
            
        json_str = html_res.read()
        print html_res,json_str
    def checkLiveStartJson(self):
        url_str = 'http://www.quanmin.tv/json/rooms/%s/info4.json?_t=%s' % (self.room_id,self.time_str)
        if json.loads(json_str)['video'] is None:
            return False
        else:
            return True
    def checkLiveStartVideo(self):
        url_str = "http://livebd.quanmin.tv/live/%s.flv" %s (self.room_id)


LiveModelFunc('5232509').openUrl('http://livebd.quanmin.tv/live/5232509.flv')